<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapports - Systicket</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/roles.css">
    <script src="../../js/components-loader.js" defer></script>
</head>
<body class="role-admin" data-role="admin" data-page="rapports">
    <div data-component="skip-link"></div>
    <div data-component="header"></div>
    <div data-component="overlay"></div>
    <div class="container">
        <div data-component="sidebar"></div>

        <main id="main-content" class="main-content">
            <!-- En-t√™te -->
            <div class="page-header">
                <div class="page-header-left">
                    <h1>Rapports</h1>
                    <p class="page-subtitle">Statistiques, analyses et export de donn√©es</p>
                </div>
                <div class="page-header-right page-header-actions">
                    <button type="button" class="btn btn-text" onclick="window.print();" aria-label="Imprimer le rapport">üñ®Ô∏è Imprimer</button>
                    <button type="button" class="btn btn-secondary" onclick="window.print();" aria-label="Exporter en PDF (impression)">üì• Exporter PDF</button>
                    <button type="button" class="btn btn-primary" onclick="window.print();" aria-label="Exporter (impression)">üìä Exporter Excel</button>
                </div>
            </div>

            <!-- Sommaire -->
            <nav class="reports-toc card" aria-label="Sommaire du rapport">
                <h2 class="reports-toc-title">Sommaire</h2>
                <ul class="reports-toc-list">
                    <li><a href="#report-summary">Synth√®se</a></li>
                    <li><a href="#report-hours-project">Heures par projet</a></li>
                    <li><a href="#report-tickets-status">Tickets par statut</a></li>
                    <li><a href="#report-hours-user">Heures par collaborateur</a></li>
                    <li><a href="#report-billing">Facturation par client</a></li>
                    <li><a href="#report-detail">D√©tail des heures</a></li>
                </ul>
            </nav>

            <!-- Filtres -->
            <section class="reports-filters card" aria-label="Filtres du rapport">
                <h2 class="reports-filters-title">Options du rapport</h2>
                <div class="reports-filters-grid">
                    <div class="form-group">
                        <label for="report-period" class="form-label">P√©riode</label>
                        <select id="report-period" class="form-select" aria-label="P√©riode">
                            <option>Ce mois</option>
                            <option>Ce trimestre</option>
                            <option>Cette ann√©e</option>
                            <option value="custom">Personnalis√©</option>
                        </select>
                    </div>
                    <div class="form-group reports-date-range">
                        <label for="report-date-from" class="form-label">Du</label>
                        <input type="date" id="report-date-from" class="form-input" value="2026-01-01" aria-label="Date de d√©but">
                    </div>
                    <div class="form-group reports-date-range">
                        <label for="report-date-to" class="form-label">Au</label>
                        <input type="date" id="report-date-to" class="form-input" value="" aria-label="Date de fin">
                    </div>
                    <div class="form-group">
                        <label for="report-project" class="form-label">Projet</label>
                        <select id="report-project" class="form-select" aria-label="Filtrer par projet">
                            <option>Tous les projets</option>
                            <option>Site e-commerce</option>
                            <option>Application mobile</option>
                            <option>Refonte site vitrine</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="report-client" class="form-label">Client</label>
                        <select id="report-client" class="form-select" aria-label="Filtrer par client">
                            <option>Tous les clients</option>
                            <option>Acme Corp</option>
                            <option>Tech Solutions</option>
                            <option>Design Studio</option>
                        </select>
                    </div>
                    <div class="form-group reports-apply">
                        <label class="form-label">&nbsp;</label>
                        <div class="reports-filter-buttons">
                            <button type="button" class="btn btn-primary">Appliquer</button>
                            <button type="button" class="btn btn-text">R√©initialiser</button>
                        </div>
                    </div>
                </div>
                <div class="reports-compare-wrap">
                    <label class="reports-compare-label">
                        <input type="checkbox" id="report-compare" class="form-checkbox" aria-label="Comparer avec la p√©riode pr√©c√©dente">
                        <span>Comparer avec la p√©riode pr√©c√©dente</span>
                    </label>
                </div>
                <p class="reports-period-info">
                    <strong>P√©riode affich√©e :</strong> ‚Äî
                </p>
            </section>

            <!-- R√©sum√© ex√©cutif -->
            <section class="reports-executive card" aria-label="R√©sum√© du rapport">
                <h2 class="visually-hidden">R√©sum√©</h2>
                <p class="reports-executive-text">
                    Sur la p√©riode s√©lectionn√©e</strong> : <strong>‚Äî</strong> tickets trait√©s, <strong>‚Äî</strong> heures enregistr√©es, taux de validation s‚Äô√©l√®ve √† <strong>‚Äî</strong>, chiffre d‚Äôaffaires g√©n√©r√© est de <strong>‚Äî</strong>.
                </p>
            </section>

            <!-- Synth√®se (KPIs) -->
            <section id="report-summary" class="reports-section" aria-labelledby="report-summary-title">
                <header class="reports-section-header">
                    <h2 id="report-summary-title" class="section-title">Synth√®se</h2>
                    <button type="button" class="btn btn-text btn-small">Exporter cette section</button>
                </header>
                <div class="stats-grid stats-grid-reports">
                    <a href="tickets.html" class="stat-card stat-card-blue stat-card-link" title="Voir les tickets" data-tooltip="Tickets cl√¥tur√©s ou valid√©s sur la p√©riode">
                        <span class="stat-icon" aria-hidden="true">üé´</span>
                        <div class="stat-content">
                            <div class="stat-value-wrap">
                                <span class="stat-value">‚Äî</span>
                                <span class="stat-trend stat-trend-neutral" title="vs p√©riode pr√©c√©dente">‚Äî</span>
                            </div>
                            <div class="stat-label">Tickets trait√©s</div>
                        </div>
                    </a>
                    <a href="temps.html" class="stat-card stat-card-orange stat-card-link" title="Voir le suivi du temps" data-tooltip="Heures saisies et valid√©es">
                        <span class="stat-icon" aria-hidden="true">‚è±Ô∏è</span>
                        <div class="stat-content">
                            <div class="stat-value-wrap">
                                <span class="stat-value">‚Äî</span>
                                <span class="stat-trend stat-trend-neutral" title="vs p√©riode pr√©c√©dente">‚Äî</span>
                            </div>
                            <div class="stat-label">Heures enregistr√©es</div>
                        </div>
                    </a>
                    <div class="stat-card stat-card-green" data-tooltip="Part des tickets valid√©s par le client">
                        <span class="stat-icon" aria-hidden="true">‚úÖ</span>
                        <div class="stat-content">
                            <div class="stat-value-wrap">
                                <span class="stat-value">94 %</span>
                                <span class="stat-trend stat-trend-up" title="vs p√©riode pr√©c√©dente">+2 pts</span>
                            </div>
                            <div class="stat-label">Taux de validation</div>
                        </div>
                    </div>
                    <div class="stat-card stat-card-purple" data-tooltip="Montant HT facturable sur la p√©riode">
                        <span class="stat-icon" aria-hidden="true">üí∞</span>
                        <div class="stat-content">
                            <div class="stat-value-wrap">
                                <span class="stat-value">‚Äî</span>
                                <span class="stat-trend stat-trend-neutral" title="vs p√©riode pr√©c√©dente">‚Äî</span>
                            </div>
                            <div class="stat-label">Chiffre d'affaires</div>
                        </div>
                    </div>
                    <a href="projets.html" class="stat-card stat-card-muted stat-card-link" title="Voir les projets" data-tooltip="Projets avec au moins une heure enregistr√©e">
                        <span class="stat-icon" aria-hidden="true">üìÅ</span>
                        <div class="stat-content">
                            <div class="stat-value-wrap">
                                <span class="stat-value">8</span>
                                <span class="stat-trend stat-trend-neutral" title="vs p√©riode pr√©c√©dente">=</span>
                            </div>
                            <div class="stat-label">Projets actifs</div>
                        </div>
                    </a>
                </div>
            </section>

            <!-- Heures par projet -->
            <section id="report-hours-project" class="reports-section card" aria-labelledby="report-hours-project-title">
                <header class="reports-section-header">
                    <h2 id="report-hours-project-title" class="section-title">R√©partition des heures par projet</h2>
                    <button type="button" class="btn btn-text btn-small" onclick="window.print();" aria-label="Exporter ce graphique">Exporter ce graphique</button>
                </header>
                <div class="chart-container">
                    <div class="chart-item">
                        <div class="chart-item-header">
                            <span>‚Äî</span>
                            <strong>‚Äî</strong>
                        </div>
                        <div class="chart-bar-container">
                            <div class="progress-bar">
                                <div class="progress-fill progress-fill-primary" style="min-width: 0%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="reports-chart-legend">Total : ‚Äî</p>
            </section>

            <!-- Graphiques -->
            <section class="reports-grid-2">
                <article id="report-tickets-status" class="reports-section card" aria-labelledby="report-tickets-status-title">
                    <header class="reports-section-header">
                        <h2 id="report-tickets-status-title" class="section-title">Tickets par statut</h2>
                        <button type="button" class="btn btn-text btn-small" onclick="window.print();" aria-label="Exporter">Exporter</button>
                    </header>
                    <div class="chart-container">
                        <div class="chart-row">
                            <span>Nouveau</span>
                            <div class="chart-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill progress-fill-blue" style="min-width: 0%;"></div>
                                </div>
                            </div>
                            <strong>‚Äî</strong>
                        </div>
                        <div class="chart-row">
                            <span>En cours</span>
                            <div class="chart-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill progress-fill-orange" style="min-width: 0%;"></div>
                                </div>
                            </div>
                            <strong>‚Äî</strong>
                        </div>
                        <div class="chart-row">
                            <span>Termin√© / Valid√©</span>
                            <div class="chart-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill progress-fill-green" style="min-width: 0%;"></div>
                                </div>
                            </div>
                            <strong>‚Äî</strong>
                        </div>
                        <div class="chart-row">
                            <span>√Ä valider</span>
                            <div class="chart-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill progress-fill-amber" style="min-width: 0%;"></div>
                                </div>
                            </div>
                            <strong>‚Äî</strong>
                        </div>
                    </div>
                </article>

                <article id="report-hours-user" class="reports-section card" aria-labelledby="report-hours-user-title">
                    <header class="reports-section-header">
                        <h2 id="report-hours-user-title" class="section-title">Heures par collaborateur</h2>
                        <button type="button" class="btn btn-text btn-small">Exporter</button>
                    </header>
                    <div class="dashboard-chart-bars">
                        <div class="dashboard-chart-row">
                            <span class="dashboard-chart-label">‚Äî</span>
                            <div class="dashboard-chart-bar-wrap">
                                <div class="dashboard-chart-bar dashboard-chart-bar-gray" style="width: 0%;"></div>
                            </div>
                            <span class="dashboard-chart-value">‚Äî</span>
                        </div>
                    </div>
                    <p class="reports-chart-legend">Total : ‚Äî</p>
                </article>
            </section>

            <!-- Facturation par client -->
            <section class="reports-section card" aria-labelledby="report-billing-title">
                <header class="reports-section-header">
                    <h2 id="report-billing-title" class="section-title">Facturation par client</h2>
                    <button type="button" class="btn btn-text btn-small" onclick="window.print();" aria-label="Exporter ce rapport">Exporter ce rapport</button>
                </header>
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Client</th>
                                <th>Projet</th>
                                <th>Heures</th>
                                <th>Taux horaire</th>
                                <th>Montant HT</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="5" class="table-empty">Aucune donn√©e de facturation pour la p√©riode.</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="table-footer">
                                <td colspan="2"><strong>Total</strong></td>
                                <td><strong>‚Äî</strong></td>
                                <td>‚Äî</td>
                                <td><strong>‚Äî</strong></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </section>

            <!-- D√©tail des heures (extrait) -->
            <section id="report-detail" class="reports-section card" aria-labelledby="report-detail-title">
                <header class="reports-section-header">
                    <h2 id="report-detail-title" class="section-title">D√©tail des heures (extrait)</h2>
                    <a href="temps.html" class="link">Voir tout le suivi du temps ‚Üí</a>
                </header>
                <div class="table-container">
                    <table class="table table-compact">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Projet</th>
                                <th>Ticket</th>
                                <th>Collaborateur</th>
                                <th>Heures</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6" class="table-empty">Aucune entr√©e de temps pour la p√©riode.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="reports-chart-legend">Affichage des 4 derni√®res entr√©es. Utilisez le filtre ou exportez pour voir l'ensemble des donn√©es.</p>
            </section>

            <!-- M√©tadonn√©es du rapport -->
            <footer class="reports-meta card" aria-label="Informations sur le rapport">
                <p class="reports-meta-text">
                    Rapport g√©n√©r√© le <time datetime="">‚Äî</time> ‚Äî Systicket ¬∑ Donn√©es bas√©es sur les filtres appliqu√©s.
                </p>
            </footer>
        </main>
    </div>
    <div data-component="scripts"></div>
</body>
</html>
